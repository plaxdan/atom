(function() {
  var $, ThemePackage, path;

  $ = require('atom').$;

  path = require('path');

  ThemePackage = require('../src/theme-package');

  describe("Package", function() {
    return describe("theme", function() {
      var theme;
      theme = null;
      beforeEach(function() {
        return $("#jasmine-content").append($("<div class='editor'></div>"));
      });
      afterEach(function() {
        if (theme != null) {
          return theme.deactivate();
        }
      });
      describe("when the theme contains a single style file", function() {
        it("loads and applies css", function() {
          var themePath;
          expect($(".editor").css("padding-bottom")).not.toBe("1234px");
          themePath = atom.project.resolve('packages/theme-with-index-css');
          theme = new ThemePackage(themePath);
          theme.activate();
          return expect($(".editor").css("padding-top")).toBe("1234px");
        });
        return it("parses, loads and applies less", function() {
          var themePath;
          expect($(".editor").css("padding-bottom")).not.toBe("1234px");
          themePath = atom.project.resolve('packages/theme-with-index-less');
          theme = new ThemePackage(themePath);
          theme.activate();
          return expect($(".editor").css("padding-top")).toBe("4321px");
        });
      });
      describe("when the theme contains a package.json file", function() {
        return it("loads and applies stylesheets from package.json in the correct order", function() {
          var themePath;
          expect($(".editor").css("padding-top")).not.toBe("101px");
          expect($(".editor").css("padding-right")).not.toBe("102px");
          expect($(".editor").css("padding-bottom")).not.toBe("103px");
          themePath = atom.project.resolve('packages/theme-with-package-file');
          theme = new ThemePackage(themePath);
          theme.activate();
          expect($(".editor").css("padding-top")).toBe("101px");
          expect($(".editor").css("padding-right")).toBe("102px");
          return expect($(".editor").css("padding-bottom")).toBe("103px");
        });
      });
      describe("when the theme does not contain a package.json file and is a directory", function() {
        return it("loads all stylesheet files in the directory", function() {
          var themePath;
          expect($(".editor").css("padding-top")).not.toBe("10px");
          expect($(".editor").css("padding-right")).not.toBe("20px");
          expect($(".editor").css("padding-bottom")).not.toBe("30px");
          themePath = atom.project.resolve('packages/theme-without-package-file');
          theme = new ThemePackage(themePath);
          theme.activate();
          expect($(".editor").css("padding-top")).toBe("10px");
          expect($(".editor").css("padding-right")).toBe("20px");
          return expect($(".editor").css("padding-bottom")).toBe("30px");
        });
      });
      describe("reloading a theme", function() {
        beforeEach(function() {
          var themePath;
          themePath = atom.project.resolve('packages/theme-with-package-file');
          theme = new ThemePackage(themePath);
          return theme.activate();
        });
        return it("reloads without readding to the stylesheets list", function() {
          expect(theme.getStylesheetPaths().length).toBe(3);
          theme.reloadStylesheet(theme.getStylesheetPaths()[0]);
          return expect(theme.getStylesheetPaths().length).toBe(3);
        });
      });
      return describe("events", function() {
        beforeEach(function() {
          var themePath;
          themePath = atom.project.resolve('packages/theme-with-package-file');
          theme = new ThemePackage(themePath);
          return theme.activate();
        });
        return it("deactivated event fires on .deactivate()", function() {
          var spy;
          theme.on('deactivated', spy = jasmine.createSpy());
          theme.deactivate();
          return expect(spy).toHaveBeenCalled();
        });
      });
    });
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAiZmlsZSI6ICIiLAogICJzb3VyY2VSb290IjogIiIsCiAgInNvdXJjZXMiOiBbCiAgICAiIgogIF0sCiAgIm5hbWVzIjogW10sCiAgIm1hcHBpbmdzIjogIkFBQUE7QUFBQSxNQUFBLHFCQUFBOztBQUFBLEVBQUMsSUFBSyxPQUFBLENBQVEsTUFBUixFQUFMLENBQUQsQ0FBQTs7QUFBQSxFQUNBLElBQUEsR0FBTyxPQUFBLENBQVEsTUFBUixDQURQLENBQUE7O0FBQUEsRUFFQSxZQUFBLEdBQWUsT0FBQSxDQUFRLHNCQUFSLENBRmYsQ0FBQTs7QUFBQSxFQUlBLFFBQUEsQ0FBUyxTQUFULEVBQW9CLFNBQUEsR0FBQTtXQUNsQixRQUFBLENBQVMsT0FBVCxFQUFrQixTQUFBLEdBQUE7QUFDaEIsVUFBQSxLQUFBO0FBQUEsTUFBQSxLQUFBLEdBQVEsSUFBUixDQUFBO0FBQUEsTUFFQSxVQUFBLENBQVcsU0FBQSxHQUFBO2VBQ1QsQ0FBQSxDQUFFLGtCQUFGLENBQXFCLENBQUMsTUFBdEIsQ0FBNkIsQ0FBQSxDQUFFLDRCQUFGLENBQTdCLEVBRFM7TUFBQSxDQUFYLENBRkEsQ0FBQTtBQUFBLE1BS0EsU0FBQSxDQUFVLFNBQUEsR0FBQTtBQUNSLFFBQUEsSUFBc0IsYUFBdEI7aUJBQUEsS0FBSyxDQUFDLFVBQU4sQ0FBQSxFQUFBO1NBRFE7TUFBQSxDQUFWLENBTEEsQ0FBQTtBQUFBLE1BUUEsUUFBQSxDQUFTLDZDQUFULEVBQXdELFNBQUEsR0FBQTtBQUN0RCxRQUFBLEVBQUEsQ0FBRyx1QkFBSCxFQUE0QixTQUFBLEdBQUE7QUFDMUIsY0FBQSxTQUFBO0FBQUEsVUFBQSxNQUFBLENBQU8sQ0FBQSxDQUFFLFNBQUYsQ0FBWSxDQUFDLEdBQWIsQ0FBaUIsZ0JBQWpCLENBQVAsQ0FBMEMsQ0FBQyxHQUFHLENBQUMsSUFBL0MsQ0FBb0QsUUFBcEQsQ0FBQSxDQUFBO0FBQUEsVUFDQSxTQUFBLEdBQVksSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFiLENBQXFCLCtCQUFyQixD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
//# sourceURL=/Applications/Atom.app/Contents/Resources/app/spec/package-spec.coffee